<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS CV Analysis System</title>
    <meta name="description"
        content="Simulated ATS CV Analysis System for evaluating resumes against job descriptions.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        window.pdfjsLib = window['pdfjs-dist/build/pdf'];
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
</head>

<body>
    <div class="background-globes">
        <div class="globe globe-1"></div>
        <div class="globe globe-2"></div>
    </div>

    <div class="app-container">
        <header class="main-header">
            <div class="logo-container">
                <span class="logo-icon">GRIDIFY</span>
                <h1>Resume <span class="highlight">Scanner</span></h1>
            </div>
            <p class="subtitle">Automated Screening & Compliance Engine v1.0</p>
        </header>

        <main>
            <!-- Input Phase -->
            <!-- Input Phase -->
            <section id="input-section" class="card fade-in no-padding">

                <!-- Single Upload Section -->
                <div class="section-header-simple">
                    <h2><span class="icon">üìÇ</span> Upload CV for Score Calculation</h2>
                </div>

                <div class="upload-container">
                    <!-- Drop Zone -->
                    <div class="drop-zone" id="drop-zone">
                        <span class="drop-icon">‚òÅÔ∏è</span>
                        <h3>Drag & Drop your Resume here</h3>
                        <p>or</p>
                        <input type="file" id="cv-upload" accept=".pdf,.docx,.txt" class="file-input" hidden>
                        <label for="cv-upload" class="upload-btn-lg">Browse Files</label>
                        <p class="file-info" id="file-name-display">Supported formats: PDF, DOCX, TXT</p>
                    </div>
                    <div class="text-input-toggle">
                        <span id="toggle-cv-text"></span>
                        <textarea id="cv-input" class="hidden-textarea hidden"
                            placeholder="Paste raw text of the CV here..."></textarea>
                    </div>
                </div>

                <div class="context-grid padded-context">
                    <div class="input-field">
                        <label for="experience-level">Experience Level</label>
                        <select id="experience-level">
                            <option value="entry">Entry Level (0-2 years)</option>
                            <option value="mid">Mid Level (3-5 years)</option>
                            <option value="senior">Senior Level (5+ years)</option>
                            <option value="executive">Executive</option>
                        </select>
                    </div>
                    <div class="input-field">
                        <label for="target-role">Target Role Title (Optional)</label>
                        <input type="text" id="target-role" placeholder="e.g. Senior Frontend Engineer">
                    </div>
                </div>

                <div class="action-bar padded-action">
                    <button id="analyze-btn" class="btn-primary">
                        <span class="icon">‚öôÔ∏è</span> EXECUTE SCREENING
                    </button>
                </div>
            </section>

            <!-- Results Section (Hidden initially) -->
            <div id="results-container" class="hidden">

                <!-- Score Summary -->
                <section class="score-overview card slide-up">
                    <div class="score-circle-container">
                        <div class="score-circle" id="main-score-circle">
                            <svg viewBox="0 0 36 36" class="circular-chart">
                                <path class="circle-bg"
                                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                                <path class="circle" id="score-circle-path" stroke-dasharray="0, 100"
                                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            </svg>
                            <div class="score-text">
                                <span id="final-ats-score">0</span>
                                <span class="score-label">ATS Score</span>
                            </div>
                        </div>
                    </div>
                    <div class="score-breakdown">
                        <h3>Match Breakdown</h3>
                        <div class="breakdown-item">
                            <span>Skills Match</span>
                            <div class="progress-bar">
                                <div class="fill" id="fill-skills" style="width: 0%"></div>
                            </div>
                            <span class="val" id="val-skills">0/30</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Experience Relevance</span>
                            <div class="progress-bar">
                                <div class="fill" id="fill-experience" style="width: 0%"></div>
                            </div>
                            <span class="val" id="val-experience">0/25</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Formatting & Quality</span>
                            <div class="progress-bar">
                                <div class="fill" id="fill-formatting" style="width: 0%"></div>
                            </div>
                            <span class="val" id="val-formatting">0/25</span>
                        </div>
                        <div class="breakdown-item">
                            <span>Education & Certs</span>
                            <div class="progress-bar">
                                <div class="fill" id="fill-education" style="width: 0%"></div>
                            </div>
                            <span class="val" id="val-education">0/20</span>
                        </div>
                    </div>
                    <div class="shortlist-status" id="shortlist-status">
                        <span class="label">Likelihood:</span>
                        <span class="value" id="likelihood-text">--</span>
                    </div>
                </section>

                <div class="results-grid">
                    <!-- Phase 1: Parsing Data -->
                    <section class="card slide-up delay-1">
                        <h2><span class="icon">ÔøΩ</span> Parsed Entities</h2>
                        <div class="extracted-data-view">
                            <div class="data-group">
                                <h3>Mapped Skills</h3>
                                <div class="tag-cloud" id="extracted-skills">
                                    <span class="empty-state">No entities detected</span>
                                </div>
                            </div>
                            <div class="data-group">
                                <h3>Quantified Signals</h3>
                                <ul class="list-check" id="extracted-metrics">
                                    <li class="empty-state">No measurable signals</li>
                                </ul>
                            </div>
                        </div>
                    </section>

                    <!-- Phase 3: Pos/Neg -->
                    <section class="card slide-up delay-2">
                        <h2><span class="icon">üõ°Ô∏è</span> Audit Logic</h2>
                        <div class="analysis-columns">
                            <div class="col-strength">
                                <h3>Match Indicators (Pos)</h3>
                                <ul id="list-strengths" class="list-plus">
                                </ul>
                            </div>
                            <div class="col-weakness">
                                <h3>Risk Factors (Neg)</h3>
                                <ul id="list-weaknesses" class="list-minus">
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Phase 4: Recommendations -->
                <section class="card slide-up delay-3 full-width">
                    <h2><span class="icon">ÔøΩ</span> Compliance & Gap Report</h2>
                    <div id="recommendations-container" class="roadmap-container">
                        <!-- Dynamic content -->
                    </div>
                </section>

            </div>
        </main>

        <footer class="main-footer">
            <p>Designed and developed by <a href="https://www.gridify.in" target="_blank"
                    rel="noopener noreferrer">Gridify</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>