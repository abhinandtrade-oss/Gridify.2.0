# Gridify HR Solutions: Complete Technical & Operational Report

**Project Name:** Gridify HR Solutions  
**Framework:** Multi-Tenant SaaS (Software as a Service)  
**Version:** 2.0 (Modernized Glassmorphism Edition)  
**Date:** January 17, 2026

---

## 1. Executive Overview
Gridify is a high-performance HR management ecosystem designed for modern enterprises. It operates on a three-tier hierarchical architecture:
1.  **Platform Layer:** The SaaS owner (Super-Admin) who manages multiple clients (Organizations).
2.  **Organization Layer:** The Client (Admin) who manages their specific workforce.
3.  **Employee Layer:** The end-user (Staff) who handles daily attendance and leaves.

---

## 2. Technology Stack & Design System
*   **Frontend:** Standard HTML5 & ES6+ JavaScript.
*   **Styling:** Premium Vanilla CSS with a **Glassmorphism Design System** (frosted glass effects, dynamic gradients, and fluid typography).
*   **Backend & DB:** Google Firebase (Cloud Firestore & Authentication).
*   **Real-time Logic:** Firestore Listeners for instant data synchronization.
*   **Device Integration:** MediaDevices API (Camera for Bio-Photo), Geolocation API (GPS tracking), and IP Tracking.

---

## 3. Tier 1: Platform Portal (The SaaS Core)
This section is used by the system owners to manage the entire ecosystem.

### Pages & Features:
*   **`platform/index.html` (Platform Login):** Secure gateway for Super-Admins.
*   **`platform/dashboard.html` (Global Metrics):** Displays total revenue, active organizations, and system health status.
*   **`platform/organizations.html` (Tenant Management):** 
    *   **Feature:** Create new organizations with unique Serial IDs (e.g., `GRD-102-1201`).
    *   **Control:** Ability to suspend/deactivate an entire company instantly (Kill-Switch).
*   **`platform/subscriptions.html` (Plan Control):** Manages Free Trial vs. Premium assignments for organizations.
*   **`platform/users.html` (Staffing):** Manages internal Platform employees (Support/Dev teams).
*   **`platform/security.html` (Global Protocol):** High-level monitoring of system integrity and security logs.

---

## 4. Tier 2: Organization Portal (The Cockpit)
This section is used by HR Managers of a specific company.

### Pages & Features:
*   **`org/dashboard.html` (Admin Overview):** Real-time stats on employee presence, pending leave requests, and upcoming payroll milestones.
*   **`org/employees.html` (Workforce Engine):** 
    *   **Feature:** Full CRUD (Create, Read, Update, Delete) for employee accounts.
    *   **Connection:** When an employee is added here, they are assigned a unique identification linked to the `orgId`.
*   **`org/attendance.html` (Audit & Verification Hub):** 
    *   **Feature:** Review "Bio-Punch" records.
    *   **Visualization:** View the exact photo, GPS location, and IP address of the employee at the time of punch-in.
*   **`org/leave-requests.html` (Approval Workflow):** 
    *   **Logic:** A centralized queue where admins can approve or reject leave requests with comments.
*   **`org/payroll.html` (Treasury & Disbursement):** 
    *   **Logic:** Automatically fetches data from the **Attendance Hub**. It calculates "Paid Days" by subtracting LOP (Loss of Pay) and Late-Half-Days.
    *   **Feature:** Generates standardized Indian-style payslips with PF, ESI, and Tax calculations.
*   **`org/departments.html` (Structural Management):** Define company departments (e.g., IT, HR, Sales) and job designations.
*   **`org/settings.html` (Core Protocols):**
    *   **Feature:** Set "Official Work Time" (e.g., 09:00 AM) and "Grace Period" (e.g., 15 mins).
    *   **Connection:** These rules dictate the automatic "Late Arrival" markings in the Employee portal.

---

## 5. Tier 3: Employee Portal (Self-Service)
The interface for daily staff operations.

### Pages & Features:
*   **`employee/dashboard.html` (Central Hub):**
    *   **Live Timer:** A reactive clock showing total hours worked today.
    *   **Smart Punch-In/Out:** Large interactive button that triggers camera verification.
    *   **Late Detection:** Immediately notifies the user if they are late beyond the grace period.
*   **`employee/attendance.html` (Personal Log):** Allows employees to see their full history of check-ins, including "Half-Day" markers for late arrivals.
*   **`employee/leave-requests.html` (Absence Portal):**
    *   **Quota Check:** Prevents applying for more leave than the allocated annual quota.
    *   **Status Tracking:** Real-time visibility into the Approval/Rejection cycle.
*   **`employee/payslips.html` (Financials):** A secure interactive vault to view and download monthly payslips generated by the Org Admin.
*   **`employee/profile.html` (Identity):** View/Edit personal details, bank info, and tax IDs.

---

## 6. How the System Connects (The "Digital Circuitry")

### A. The Hierarchy Flow
`Platform` -> `Organization` -> `Employee`.  
Data is partitioned by `orgId`. An employee cannot see data from another organization even if they have the direct link, thanks to **Firestore Security Rules**.

### B. The Late-Arrival Connection
1.  **Rule Setting:** Admin sets 9:00 AM + 15 min grace in `org/settings.html`.
2.  **Detection:** Employee punches in at 9:16 AM in `employee/dashboard.html`.
3.  **Automatic Action:** System marks attendance as `Late - Half Day` and logs `1 minute late` specifically.
4.  **Payroll Impact:** When Admin opens `org/payroll.html`, that day is automatically calculated as `0.5` paid days instead of `1.0`.

### C. The Payroll-Leave Loop
1.  **Approval:** Admin approves a 2-day leave in `org/leave-requests.html`.
2.  **Credit:** System marks those dates as "Approved Leave" in the attendance database.
3.  **Calculation:** `org/payroll.html` reads these markings and calculates them as "Paid Days," ensuring the employee isn't penalized financially for approved time off.

### D. The Anti-Fraud Sync
1.  **Capture:** `employee/dashboard.html` captures a live snapshot and GPS coordinates.
2.  **Audit:** `org/attendance.html` instantly displays this to the Admin.
3.  **Trust:** This connection ensures that employees cannot punch in from home or use static photographs to trick the system.

---

## 7. Security Architecture
1.  **Identity Management:** Powered by Firebase Auth.
2.  **Data Isolation:** Every Firestore query is filtered by `orgId`.
3.  **Immutability:** Once a payroll month is "Finalized," it becomes read-only and cannot be modified by admins or employees.
4.  **Environment Integrity:** All timestamps are generated via `serverTimestamp()` to prevent users from changing their system clock to fake attendance.
5.  **Deep Wipe Capability:** When an organization is deleted from the Platform Portal, the system performs a recursive purge, deleting all nested employees, attendance logs, payroll records, and configurations to ensure zero data leakage.

---

**Â© 2026 Gridify HR Solutions**  
*Technical Documentation - Prepared by Antigravity AI*
